steps:
- script: cargo install protobuf-codegen
  displayName: 'Install Rust protobuff-codegen'

- script: cd libs/sdk-rust && make build
  workingDirectory: libs/sdk-rust
  displayName: 'Generate protos'

- script: cd libs/sdk-rust && make cargobuild
  workingDirectory: libs/sdk-rust
  displayName: 'Cargo build'

- script: cd libs/sdk-rust && make cargotest
  workingDirectory: libs/sdk-rust
  displayName: 'Cargo test'