trigger:
- develop

pool:
  vmImage: 'ubuntu-latest'

jobs:
- job: setupProtobuffs
  steps:
  - script: make getproto
    displayName: 'Get Protobuffs'

  - script: make installproto
    displayName: 'Intall Protobuffs'

  - script: make setpermissions
    displayName: 'Set permissions'

- job: sdkRust
  steps:
  - template: ./libs/sdk-rust/azure-pipeline.yml

- job: sdkJs
  steps:
  - template: ./libs/sdk-js/azure-pipeline.yml
